# coding=utf-8

"""
车队

描述:N 辆车沿着一条车道驶向位于 target 英里之外的共同目的地。
每辆车 i 以恒定的速度 speed[i] （英里/小时），从初始位置 position[i] （英里） 沿车道驶向目的地。
一辆车永远不会超过前面的另一辆车，但它可以追上去，并与前车以相同的速度紧接着行驶。
此时，我们会忽略这两辆车之间的距离，也就是说，它们被假定处于相同的位置。
车队 是一些由行驶在相同位置、具有相同速度的车组成的非空集合。注意，一辆车也可以是一个车队。
即便一辆车在目的地才赶上了一个车队，它们仍然会被视作是同一个车队。
会有多少车队到达目的地?

思路: 按照position 排序， 由近到远， 然后计算时间。
后面车如果时间小于前车，那么就会会和， 就可以看成一个车队
后面车如果时间大于前车，那就是追不上了，就多了一个车队
"""

class Solution:
    """
    @param target: the target
    @param position: the initial position
    @param speed: the speed
    @return: How many car fleets will arrive at the destination
    """
    def carFleet(self, target, position, speed):
        # Write your code here
        if not position:
            return 0
        time_map = {}
        car_num = len(speed)
        for _ in range(car_num):
            time_map[position[_]] = round((target-position[_])/speed[_], 10)    # 这里值可以取大点，这里挖坑了的
        # 然后对位置开始排序
        position.sort(reverse=True)
        # 开始对比
        n = 1
        print(position)
        for i in range(0, car_num-1):
            print(time_map.get(position[i]),time_map.get(position[i+1]))
            if time_map.get(position[i+1]) <= time_map.get(position[i]):
                position[i+1] = position[i]
                pass
            else:
                n += 1
        return n

target = 12
pos = [10,2,5,7,4,6,11]
spe = [7,5,10,5,9,4,1]

target = 132517
pos = [88812,61221,40173,71461,86757,92136,51419,42821,95667,101064,68133,2624,19128,92937,1643,34157,8057,101560,64634,90898,63192,117507,30074,61295,71115,132347,32399,44731,7299,60896,20737,124811,107858,107543,27725,79211,109725,104326,59482,78373,63935,51655,125264,106525,69583,57937,93440,33401,111611,8060,99909,32438,69576,12929,111805,118753,4197,84211,28188,125812,10953,51224,16461,30858,76591,111285,48534,50856,66292,116262,55953,10076,121481,97373,6396,117645,115537,79981,92309,25403,123665,92681,8646,60761,89913,80257,61412,45019,82891,82569,65185,52444,85647,96379,124181,14165,55652,47309,123540,15142,87350,117876,121499,111669,68093,5064,121719,85637,76382,31957,124543,90185,43281,30665,113850,74237,116908,21489,22302,109289,56147,109636,112536,28104,110898,34943,56960,17167,85530,18659,40216,56778,103090,27556,5969,107547,33074,18126,46967,57349,32870,2280,80089,84857,59625,101914,58337,125075,38595,90138,35124,4956,23137,69906,41482,13033,44427,66400,20552,31441,116123,32619,44624,21809,18652,20743,77969,16147,2886,60543,50757,14381,102908,84333,131178,55650,18922,64002,58864,18346,109039,132088,85396,124136,92285,77322,39277,40550,25790,92251,81394,38648,66610,115921,83419,83812,106541,63073,119827,42659,75968,90497,113056,98421,61029,113129,36876,36364,43377,52744,21259,115579,82851,21161,119583,86982,33148,100356,22526,44944,51495,12520,17000,38298,70218,64538,77126,39918,123351,6054,123127,46279,37931,18448,23,101989,98739,108523,89053,125589,77365,36927,130236,65799,21747,108593,131173,100056,82234,30335,86316,110631,81084,45983,91871,58288,46816,81437,109691,18398,27251,32988,79797,58680,193,99523,26985,38986,63638,130178,113801,41279,62294,78360,44285,65721,106765,64826,86731,78807,3019,90496,87433,54801,42316,19885,62807,117096,117605,75843,88462,14775,109293,20234,20572,2520,115827,46647,41225,103156,30032,102809,103566,59574,39301,116917,85170,72638,27655,52893,84713,12566,38105,120723,69286,20994,84837,92132,126902,121297,75103,57478,102521,64699,21380,90828,100880,13410,100916,92129,42829,76838,63781,5257,78068,7585,44509,59747,113878,78395,2400,53618,35777,70283,24681,67237,37584,42603,7970,79540,26652,80053,6313,130121,120678,470,105615,132475,57582,9270,17146,54286,53118,115124,48414,60925,79286,62119,41548,35621,22493,28325,22826,26268,108995,90940,19624,24154,15334,5928,43122,83447,130426,95916,118567,68774,64927,37429,107619,99320,108819,68300,45021,48441,76517,53301,120064,32361,24863,47260,63234,55868,7924,25348,11302,103975,59739,4114,42772,105601,35236,110356,78940,116652,16249,66838,75837,62806,119590,47051,47869,37421,87191,49547,3788,82611,30041,116905,80521,70304,119582,83949,78747,29670,43780,115252,66688,106972,39994,88321,8898,62309,24371,97667,53690,89280,116879,70267,67248,52235,476,40561,7899,32515,116017,26266,30449,115503,47828,68411,974,14876,123785,5771,106682,106555,12377,4047,119530,16408,97363,20826,65713,78276,88605,2677,61376,125869,120294,47652,99209,4482,31594,61592,126016,48848,109188,114260,21293,78599,71423,42984,84264,119121,86409,55582,110882,46747,74076,25347,42313,76338,87855,114917,31199,48599,64307,80048,6265,89095,4475,3411,113983,125177,24595,104924,21045,99877,30994,99823,108620,44595,77695,14010,126921,27358,83832,48724,107626,45604,127759,131908,77037,91451,5029,87143,62893,130269,68476,89582,85005,30239,74766,78924,26612,111358,66295,48046,17518,125843,59135,40489,118580,102494,116449,122046,27511,67863,28116,82134,85003,96987,1691,110138,85863,95653,21284,49241,12347,75627,42151,99124,83615,112668,84905,98449,37094,113992,78705,10982,10799,94834,56048,129985,44628,5786,53084,16099,53595,40641,56920,32288,124996,39891,131088,129049,39494,96098,27890,77705,85011,38074,43409,131461,173,7446,43800,42620,89362,109905,83074,77043,17576,41746,63692,67933,99164,24631,33742,75296,51490,38660,116131,30308,30002,70538,44176,129707,59416,62116,125892,43263,70490,119265,57426,11325,43897,78731,50289,86533,115733,21567,70227,34866,111784,109594,30408,28854,97949,50655,15805,70678,41094,28075,121324,113149,154,100502,56448,100895,99558,121429,20896,31864,82762,35670,11648,114472,130677,4034,78945,54342,6512,25674,15404,18678,17653,64683,13187,86195,53564,62416,85291,59257,53901,111443,110805,95064,102830,129712,88572,5204,43226,19603,67416,66209,67087,45003,76594,9090,15788,70721,33876,66294,32558,65967,24414,106228,111551,29788,156,118072,57287,10350,30831,19172,111708,128215,108280,109473,110840,84009,17351,94329,73456,100881,99431,59231,71487,32377,46618,92479,99979,55184,76939,29839,97800,99670,42297,92473,9361,111647,88915,91761,33383,37154,66579,7890,98282,13374,105595,43861,106500,36746,74113,122594,85027,22782,94913,89944,110403,111724,68467,87196,82319,9232,35851,55088,16331,115277,76929,101029,115672,8022,6584,115355,90897,6631,40043,115892,87830,35138,76358,125260,94245,77319,20769,77927,5388,97068,105005,24819,3424,9388,27914,122251,51064,64638,28393,70153,112604,77671,23545,116982,58247,93552,126779,108385,82777,130050,35628,64360,53157,4786,7461,47880,60706,12707,40954,131759,62656,4139,59302,60279,86973,28360,38207,125412,100978,5691,124915,112222,116287,107824,75747,95738,348,85814,6443,28656,83874,37322,103829,18382,122004,69778,93325,87323,110083,104874,74311,112184,49744,18686,73764,61671,35701,75442,130207,104782,77769,104993,122526,26790,23993,19586,23249,21014,95607,75632,103293,72190,92520,44238,46579,130557,119407,126709,42952,79616,125322,48772,21818,11072,4802,85299,56424,23895,2718,22197,13831,44316,127388,55726,108992,42300,62766,30204,1568,106564,16897,25908,22941,26226,98670,58076,44469,2809,50231,112565,80008,98168,110166,94034,76089,36745,111167,108636,50924,12355,66086,74631,68573,38650,26860,26565,6352,95037,21376,100557,32665,69322,42776,41393,73513,62452,89748,114176,106182,86999,101478,4179,45997,22629,25432,42319,72193,105106,74301,77356,34786,108537,116864,15868,72515,14352,38707,111028,59944,55716,85992,101450,29337,47125,118195,5744,34918,39285,69154,71401,37112,74202,90413,81415,86673,104095,76256,88576,18555,76526,82712,61716,110389,45484,50659,105219,98609,56859,93200,86704,120092,90896,17559,12862,76831,40878,6967,6473,49679,85145]
spe = [432646,757897,78550,510577,783112,267887,875381,154936,559055,20843,565864,337672,358866,704589,726328,620393,859209,328605,967321,791870,546993,7978,554302,684338,920449,494618,409160,103356,636660,778904,545021,36441,778117,380987,269804,884590,487762,623161,534179,815924,524670,5862,990217,294600,609834,689500,361926,518055,101886,293251,982495,873663,855093,674792,907632,286901,96720,280054,277012,301730,326237,434231,327829,691171,455329,24070,180234,375537,404728,729485,915484,886595,477706,156225,30121,128519,898467,67738,65735,803774,94690,723686,98152,64086,247475,173028,426788,475322,769732,859871,906092,19938,660914,850721,595558,629404,129338,421168,600149,859724,58927,46821,607618,18020,207539,817116,585973,121811,864971,702933,435513,6549,993296,550449,876772,109252,776391,220415,426906,724297,731507,221551,388273,50203,496128,416649,880295,859986,606483,518848,98580,92064,914521,912228,265343,680180,99512,995820,746084,141408,76605,41036,258285,896073,60983,339085,587373,164277,828613,343744,914552,145780,47619,198237,130233,332683,996425,169498,534983,847156,485218,680821,779296,273664,435634,807447,806537,999878,549236,366791,216201,444473,523158,958631,380833,155713,5246,889936,292132,511327,11977,825976,762071,514621,7168,547235,449966,177930,886487,420303,54149,696144,482983,731809,289737,482143,79200,117587,988864,586602,716802,403972,53006,205516,521287,329171,446878,869825,871536,236150,498714,36008,341558,380169,603322,256799,819827,959498,797255,36231,582893,342916,441433,678443,451763,500203,286676,601321,438863,492615,889523,736149,670159,158633,91645,966217,197039,451647,579711,78950,69035,724148,708964,404743,956752,553729,206614,422153,377554,431683,748331,691554,469931,499986,777296,963853,823325,839816,638392,481232,105648,552712,539484,398493,671460,109015,37538,984527,555738,957940,324320,977544,430613,565240,235298,9220,398555,564666,83227,219258,944738,473659,876720,947755,676487,620424,117533,761237,475073,259331,531785,229075,410628,810742,896629,275391,811649,991186,514233,608228,209707,223030,755198,944990,458149,819770,256140,457836,874687,28801,649563,594109,707100,119132,192140,733038,830672,830984,499236,355880,384919,771905,785344,108384,605031,792213,127312,837152,802685,879661,74061,614042,332925,670917,44660,819347,420413,80296,369452,919804,692505,901530,137635,258281,788841,885118,188030,981381,408283,572675,1233,725710,868949,176115,231616,688169,533399,427348,533498,55962,975544,906681,329836,45849,672045,781072,300068,717929,634461,519862,975076,440356,612255,935099,997496,205619,677140,600970,735398,725151,963057,602645,704972,514246,257616,805812,231807,111473,592137,102820,276373,338347,183232,880807,586074,790000,688247,237848,696632,432584,611726,784041,324366,69866,71934,195836,153090,272240,20043,826914,546400,587295,749770,368102,518115,980821,743156,871029,433226,819466,540833,804947,180977,258109,145139,934428,881114,592208,177874,113801,226516,919678,749599,838607,98335,541589,769151,545242,123384,324000,925269,103270,651519,424430,590493,341616,36679,233073,172902,172161,262422,16135,485134,442065,750935,456817,96874,232604,367209,468352,709407,46166,142773,465232,263863,147476,711803,374518,175541,86930,483458,571989,593501,996593,641542,113019,532625,959880,822532,879803,137643,842638,845264,293249,550671,368340,76255,293993,452418,997829,378220,998522,938307,539019,265990,617683,941819,787449,444867,558806,251573,563902,104864,471662,384582,385235,898330,565242,195247,60866,605494,875165,269695,584181,202504,10359,798975,162390,478739,987441,44351,945572,245154,15968,777309,384739,905766,584807,608374,331652,500891,378997,684125,747462,621238,23088,323448,697978,865947,699328,424864,853709,100518,227859,367293,373088,977297,956779,401357,230414,646055,59684,44267,796197,3060,583144,992289,572080,730612,71897,552142,2434,511265,587659,933493,157451,102843,411666,450062,22599,905963,372247,499989,294325,162763,687127,957252,400243,648220,218292,251726,388393,623911,708389,106557,118733,555082,420094,539110,531037,357027,945481,602364,850100,887532,488866,416976,121787,842768,448603,459546,467893,534773,706548,192332,406462,528496,47816,208916,445076,155377,35862,792043,766233,964931,586576,468622,911784,108874,143528,837998,238549,422791,777501,529373,108763,309017,248792,917432,127997,325231,843394,893435,393020,881945,786502,792646,938492,486643,568946,407364,225037,586268,87020,977173,425622,169952,979970,986874,2226,616388,812852,950817,967980,251250,623787,831472,394438,487172,129589,710682,576291,920990,477518,781666,548006,518241,272823,632121,274495,783600,813159,940896,168143,790057,188122,910412,602745,36810,788078,161021,553385,756513,258923,462780,668499,653185,327075,414584,334148,683492,280522,140791,307738,842438,692960,478879,181469,420043,918214,550093,633243,264001,913856,409524,532242,167485,615571,848622,496319,464129,315969,747171,421915,645193,941161,294186,282171,310297,318009,119571,332350,306079,636769,531561,506308,703987,543300,427161,777301,354929,895917,551068,624790,911569,765523,354339,668121,634135,364966,418817,453782,659023,833282,412656,277362,127367,6776,596802,274583,252756,294907,234602,235817,242646,722057,66607,171461,685787,993816,287040,713870,242885,662539,511776,100091,212806,531146,586173,288425,529155,791021,704441,812624,250314,963935,143301,842268,62835,827821,398701,93440,905912,709529,821403,526173,783873,881317,62780,595371,21612,644944,933197,753496,401297,774535,307698,780304,906392,125210,974170,158627,234169,677959,234145,824500,546738,762002,288172,816454,671932,504748,996051,468464,270292,59137,429844,387403,418396,734620,833900,681114,411849,490186,789999,198179,953716,238497,701533,162187,749251,168692,360857,110247,799523,313834,375784,129403,921756,271378,718594,13704,501663,56960,177944,325970,817199,3924,773321,219593,111866,970299,411032,874954,333577,801881,422526,713069,886048,342411,677769,227035,868987,606452,306537,525983,709992,156878,131322,374968,300040,292481,455186,401865,611355,918026,50860,865129,270345,376180,669523,953201,926960,91394,223372,206822,391857,456953,113181,5672,184711,472751,300347,56651,103338,993402,863115,287154,959848,787465,772530,438379,657843,599084,307133,593719,105342,172441,872830,799426,746955,418596,821763,780161,769883,866158,623611,947402,344322,598593,412790,320813,865164,862462,792016,493660,326218,151760,139700,995026,633124,943067,364639,698847,713908,901754,465601,815303,730097,426432,35893,841299,207504,774973,348631,654490,209466,43004,964774,373907,825985,139992,120839,601915,796548,87967,64989,18539,130904,149702,943042,482026,671353,187533,887824,540663,660893,352026,372495,170037,36889,192483,3530,90146,817214,810041,554426,51485,556435,389920,844105,378048,406693,994899,651217,996269,485741,482210,289554,680135,960412,910758,719703,308787,89330,856740,688915,267647,373199,315293]

print(Solution().carFleet(target, pos, spe))